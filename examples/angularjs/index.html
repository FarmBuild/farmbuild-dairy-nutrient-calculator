<!DOCTYPE html>
<html ng-app="farmbuild.nutrientCalculator.examples">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Farmbuild Dairy Nutrient Calculator (angularJS)</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body ng-controller="FarmCtrl">
<content>
  <modal ng-if="noResult" ng-include="'modal-validation-error.html'"></modal>
  <form role="form" name="form" novalidate>
    <h3>
      Farmbuild Dairy Nutrient Calculator
      <small>(angularJS)</small>
    </h3>
    <hr/>
    <h4>
      Test individual pages
    </h4>
    <a ng-href="cows-purchased/index.html">cows-purchased</a> |
    <a ng-href="cows-culled/index.html">cows-culled</a> |
    <a ng-href="forages-purchased/index.html">forages-purchased</a> |
    <a ng-href="concentrates-purchased/index.html">concentrates-purchased</a> |
    <a ng-href="fertilizers-purchased/index.html">fertilizers-purchased</a> |
    <a ng-href="milk-sold/index.html">milk-sold</a> |
    <a ng-href="legumes/index.html">legumes</a>
    <br/>
    <br/>
    <hr/>
    <h4>
      Test farmData load
    </h4>
    <form-item class="form-group col-md-6">
      <label>Please select your farm data</label>
      <input id="loadFile" name="farmData" type="file" on-read-file="loadFarmData($fileContent)" class="form-control">
      <!-- input id="loadFile" name="farmData" type="file"
             onchange="angular.element(this).scope().readFile(event)" class="form-control">
      <button class="btn btn-primary"
          ng-click="loadFile(file)"
          id="loadButton">Load</button  -->
      <br>
            <span ng-if="farmData.name">
            <a ng-href="cows-purchased/index.html?load=true">cows-purchased</a> |
            <a ng-href="cows-culled/index.html?load=true">cows-culled</a> |
            <a ng-href="forages-purchased/index.html?load=true">forages-purchased</a> |
            <a ng-href="concentrates-purchased/index.html?load=true">concentrates-purchased</a> |
            <a ng-href="fertilizers-purchased/index.html?load=true">fertilizers-purchased</a> |
            <a ng-href="milk-sold/index.html?load=true">milk-sold</a> |
            <a ng-href="legumes/index.html?load=true">legumes</a>
            <br>
            <button class="btn btn-primary" ng-click="calculate()">Calculate</button>
            </span>
    </form-item>
    <buttons class="col-md-12">
      <!--<button type="button" class="btn btn-primary" ng-click="exportFarmData(farmData)" ng-disabled="!farmData.name">Export farm data</button>-->
      <a type="button" class="btn btn-primary" ng-click="exportFarmData(farmData)" ng-disabled="!farmData.name">Export
        farm data</a>
    </buttons>
    <div class="clearfix"></div>
  </form>
  <br/>
  <summary>
    <fieldset>
      <legend>
        Farm details
      </legend>
      <form-item class="form-group col-sm-6">
        <p>Farm Name: <span ng-bind="farmData.name"></span></p>
      </form-item>
      <form-item class="form-group col-sm-6">
        <p>Area in hectare: <span ng-bind="farmData.area | number: decimalPrecision"></span></p>
      </form-item>
      <form-item class="form-group col-sm-6">
        <p>Date Created: <span ng-bind="farmData.dateCreated | date: 'medium'"></span></p>
      </form-item>
      <form-item class="form-group col-sm-6">
        <p>Date Last Updated: <span ng-bind="farmData.dateLastUpdated | date: 'medium'"></span></p>
      </form-item>
    </fieldset>
    <fieldset>
      <legend>
        Farm area breakdown (ha)
      </legend>
      <form-item class="form-group col-sm-6">
        <label>Milking area in hectare:</label>
        <input ng-model="farmData.nutrientCalculator.summary.milkingAreaInHa" type="number"
               class="form-control">
      </form-item>
      <form-item class="form-group col-sm-6">
        <label>Non milking area in hectare:</label>

        <p class="form-control"><span
            ng-bind="(farmData.area - farmData.nutrientCalculator.summary.milkingAreaInHa) | number: decimalPrecision"></span>
        </p>
      </form-item>

      <form-item class="form-group col-sm-6">
        <label>Average cow weight in Kg:</label>
        <input ng-model="farmData.nutrientCalculator.summary.averageCowWeightInKg" type="number"
               class="form-control">
      </form-item>

      <form-item class="form-group col-sm-6">
        <label>Number of milking cows:</label>
        <input ng-model="farmData.nutrientCalculator.summary.numberOfMilkingCows" type="number"
               class="form-control">
      </form-item>

      <form-item class="form-group col-sm-6">
        <label>Number of milking days:</label>
        <input ng-model="farmData.nutrientCalculator.summary.numberOfMilkingDays" type="number"
               class="form-control">
      </form-item>
    </fieldset>

    <!-- fieldset>
          <legend>
              Farm area breakdown (ha)
          </legend>
          <form-item class="form-group col-sm-6">
              <p>Milking area: <span
                      ng-bind="farmData.nutrientCalculator.summary.milkingAreaInHa | number: decimalPrecision"></span>
              </p>
          </form-item>
          <form-item class="form-group col-sm-6">
              <p>Non milking area: <span
                      ng-bind="(farmData.area - farmData.nutrientCalculator.summary.milkingAreaInHa) | number: decimalPrecision"></span>
              </p>
          </form-item>
      </fieldset -->
    <fieldset>
      <legend>
        Balance and Efficiency
      </legend>
      <form-item class="form-group col-sm-6">
        <table ng-if="balance.nitrogen || efficiency.nitrogen" id="foragesTbl"
               class="table table-striped table-hover">
          <tr>
            <th></th>
            <th>Nitrogen</th>
            <th>Phosphorus</th>
            <th>Potassium</th>
            <th>Sulphur</th>
          </tr>
          <tr>
            <td>Balance (kg/ha)</td>
            <td ng-bind="balance.nitrogen | number: decimalPrecision"></td>
            <td ng-bind="balance.phosphorus | number: decimalPrecision"></td>
            <td ng-bind="balance.potassium | number: decimalPrecision"></td>
            <td ng-bind="balance.sulphur | number: decimalPrecision"></td>
          </tr>
          <tr>
            <td>Efficiency (%)</td>
            <td ng-bind="efficiency.nitrogen | number: decimalPrecision"></td>
            <td ng-bind="efficiency.phosphorus | number: decimalPrecision"></td>
            <td ng-bind="efficiency.potassium | number: decimalPrecision"></td>
            <td ng-bind="efficiency.sulphur | number: decimalPrecision"></td>
          </tr>
        </table>
        <empty-message ng-if="!balance.nitrogen && !efficiency.nitrogen"><i class="fa fa-warning icon"></i>Provide
          a complete farm data to see balance and efficiency!
        </empty-message>
      </form-item>
    </fieldset>
  </summary>
  <version>
    Version: <span ng-bind="appVersion"></span>
  </version>
</content>

<script src="../../dist/farmbuild-core.js"></script>
<script src="../../dist/farmbuild-farmdata.js"></script>
<script src="../../dist/farmbuild-nutrientcalculator.js"></script>
<script src="../config.js"></script>
<script src="index.js"></script>


</body>
</html>
