"use strict";angular.module("farmbuild.nutrientCalculator",["farmbuild.core","farmbuild.farmdata"]).factory("NutrientCalculator",function(MilkSold,GoogleAnalytic,AnimalPurchased,FarmData){var NutrientCalculator={};return NutrientCalculator.load=function(farmData){return FarmData.isFarmData(farmData)?(farmData.nutrientCalculator||(farmData.nutrientCalculator={milkSold:{}}),farmData):void 0},NutrientCalculator.milkSold=MilkSold,NutrientCalculator.googleAnalytic=GoogleAnalytic,NutrientCalculator.animalPurchased=AnimalPurchased,window.farmbuild.nutrientcalculator=NutrientCalculator,NutrientCalculator}),angular.module("farmbuild.nutrientCalculator").factory("AnimalPurchased",function(Validations){var AnimalPurchased={},_isNumber=Validations.isNumber;return AnimalPurchased.incoming=[],AnimalPurchased.calculate=function(incomings){return AnimalPurchased.incoming=incomings,0===incomings.length?void 0:""},AnimalPurchased.add=function(type,count){return count=parseInt(count),_isNumber(count)?(AnimalPurchased.incoming.push({type:type,count:count}),AnimalPurchased):void 0},AnimalPurchased}),angular.module("farmbuild.nutrientCalculator").factory("GoogleAnalytic",function(){var exports={};return exports.username="anonymous",exports}),angular.module("farmbuild.nutrientCalculator").factory("MilkSold",function(Validations){function _validateInputs(milkSoldPerYearInLitre,milkProtein,milkFat,unit){return milkSoldPerYearInLitre&&milkProtein&&milkFat&&unit&&_isNumber(milkSoldPerYearInLitre)&&_isNumber(milkProtein)&&_isNumber(milkFat)?0>milkSoldPerYearInLitre||0>milkProtein||0>milkFat?!1:"%"===unit&&milkProtein+milkFat>100?!1:"kg"===unit&&milkProtein+milkFat>milkSoldPerYearInLitre?!1:!0:!1}function _calculate(milkSoldPerYearInLitre,milkFatInKg,milkProteinInKg,milkProteinPercentage,milkFatPercentage){var nitrogenPercentage=milkProteinPercentage/6.33,phosphorusPercentage=.0111*milkFatPercentage+.05255,potassiumPercentage=.14,sulphurPercentage=.06,nitrogenInKg=milkSoldPerYearInLitre*nitrogenPercentage/100,potassiumInKg=milkSoldPerYearInLitre*potassiumPercentage/100,sulphurInKg=milkSoldPerYearInLitre*sulphurPercentage/100,phosphorusInKg=milkSoldPerYearInLitre*phosphorusPercentage/100;return{totalPerYearInLitre:_toFixNumber(milkSoldPerYearInLitre,2),fatInKg:_toFixNumber(milkFatInKg,2),fatPercentage:_toFixNumber(milkFatPercentage,2),proteinInKg:_toFixNumber(milkProteinInKg,2),proteinPercentage:_toFixNumber(milkProteinPercentage,2),nitrogenInKg:_toFixNumber(nitrogenInKg,2),nitrogenPercentage:_toFixNumber(nitrogenPercentage,2),phosphorusInKg:_toFixNumber(phosphorusInKg,2),phosphorusPercentage:_toFixNumber(phosphorusPercentage,2),potassiumInKg:_toFixNumber(potassiumInKg,2),potassiumPercentage:_toFixNumber(potassiumPercentage,2),sulphurInKg:_toFixNumber(sulphurInKg,2),sulphurPercentage:_toFixNumber(sulphurPercentage,2)}}function _kgToPercentage(valueInKg,totalInLitre){return valueInKg/totalInLitre*100}function _percentageToKg(valuePercentage,totalInLitre){return valuePercentage*totalInLitre/100}function _toFixNumber(value,decimalPrecision){return parseFloat(value.toFixed(decimalPrecision))}var MilkSold={},_isNumber=Validations.isNumber;return MilkSold.calculateByPercent=function(milkSoldPerYearInLitre,milkProteinPercentage,milkFatPercentage){var milkProteinInKg,milkFatInKg;return milkSoldPerYearInLitre=parseFloat(milkSoldPerYearInLitre),milkProteinPercentage=parseFloat(milkProteinPercentage),milkFatPercentage=parseFloat(milkFatPercentage),_validateInputs(milkSoldPerYearInLitre,milkProteinPercentage,milkFatPercentage,"%")?(milkProteinInKg=_percentageToKg(milkProteinPercentage,milkSoldPerYearInLitre),milkFatInKg=_percentageToKg(milkFatPercentage,milkSoldPerYearInLitre),_calculate(milkSoldPerYearInLitre,milkFatInKg,milkProteinInKg,milkProteinPercentage,milkFatPercentage)):void 0},MilkSold.calculateByKg=function(milkSoldPerYearInLitre,milkProteinInKg,milkFatInKg){var milkProteinPercentage,milkFatPercentage;return milkSoldPerYearInLitre=parseFloat(milkSoldPerYearInLitre),milkProteinInKg=parseFloat(milkProteinInKg),milkFatInKg=parseFloat(milkFatInKg),_validateInputs(milkSoldPerYearInLitre,milkProteinInKg,milkFatInKg,"kg")?(milkFatPercentage=_kgToPercentage(milkFatInKg,milkSoldPerYearInLitre),milkProteinPercentage=_kgToPercentage(milkProteinInKg,milkSoldPerYearInLitre),_calculate(milkSoldPerYearInLitre,milkFatInKg,milkProteinInKg,milkProteinPercentage,milkFatPercentage)):void 0},MilkSold}),angular.module("farmbuild.nutrientCalculator").factory("Validations",function($log){var Validations={};return Validations.isNumber=angular.isNumber,Validations}),angular.module("farmbuild.nutrientCalculator").run(function(NutrientCalculator){}),"undefined"==typeof window.farmbuild?window.farmbuild={nutrientcalculator:{}}:window.farmbuild.nutrientcalculator={},angular.injector(["ng","farmbuild.nutrientCalculator"]);
//# sourceMappingURL=farmbuild-nutrientcalculator.min.js.map